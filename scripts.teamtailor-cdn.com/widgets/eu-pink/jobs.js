var Teamtailor=window.Teamtailor=window.Teamtailor||{};Teamtailor.JobsSource=Teamtailor.JobsSource||function(){"use strict";var e={},t={},a={},n={},r=[{value:"none"},{value:"temporary"},{value:"hybrid"},{value:"fully"}],i={},o=function(e){var t,a=function(){return["department","role","regions","locations"].join(",")};if(e.apiKey){if(t=e.url||"https://api.teamtailor.com/v1/jobs?",t=(t=l(t,e))+"include="+a()+"&",t+="fields[departments]=name&",t+="fields[roles]=name&",t+="fields[locations]=name,city&",t+="fields[regions]=name&",e.limit&&(e.limit=Math.min(e.limit,30),t=t+"page[size]="+e.limit+"&"),e.feed?t=t+"filter[feed]="+e.feed+"&":t+="filter[feed]=public&",e.companies&&(t=t+"filter[company]="+e.companies+"&"),e.departments&&(t=t+"filter[department]="+e.departments+"&"),e.roles&&(t=t+"filter[role]="+e.roles+"&"),e.preselectedDepartment&&(t=t+"filter[department]="+e.preselectedDepartment+"&"),e.preselectedLocation&&(t=t+"filter[locations]="+e.preselectedLocation+"&"),e.preselectedLanguage&&(t=t+"filter[language-code]="+e.preselectedLanguage+"&"),e["career-sites"])t=t+"filter[language-code]="+e["career-sites"].replaceAll('"',"")+"&";e.locations&&(t=t+"filter[locations]="+e.locations+"&"),e.regions&&(t=t+"filter[regions]="+e.regions+"&"),e.remote_statuses&&(t=t+"filter[remote-status]="+e.remote_statuses+"&")}else t=e.url||"https://tt.teamtailor.com/api/jobs?",e.limit&&(t=t+"limit="+e.limit+"&"),e.preselectedDepartment&&(t=t+"department_name="+e.preselectedDepartment+"&"),e.departments&&(t=t+"department_id="+e.departments+"&"),e.locations&&(t=t+"location_id="+e.locations+"&"),t=t+"company_id="+e.company;return t},l=function(e,t){return e+"&api_key="+t.apiKey+"&api_version=20161108&"},s=function(e,t){var a,n=!!window.XDomainRequest,r=function(){t(JSON.parse(a.responseText))};n?((a=new window.XDomainRequest).onprogress=function(){return!0},a.onload=r,a.open("GET",e),a.send()):((a=new XMLHttpRequest).open("GET",e,!0),a.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&r()},a.send())},u=function(e,t,a,n){void 0===n&&(n=[]),a.apiKey?s(e,(function(e){if(n=n.concat(e.data),e.links&&e.links.next){var r=l(e.links.next,a);u(r,t,a,n)}else e.data=n,t(e)})):s(e,t)},c=function(r){if(r)for(var i=0;i<r.length;i++)"departments"===r[i].type?e[r[i].id]=r[i]:"roles"===r[i].type?t[r[i].id]=r[i]:"locations"===r[i].type?a[r[i].id]=r[i]:"regions"===r[i].type&&(n[r[i].id]=r[i])},m=function(t){var a=t.department_name;if(a)return a;if(t.relationships&&t.relationships.department.data){var n=e[t.relationships.department.data.id];if(n)return n.attributes.name}return null},p=function(e){if(e.relationships&&e.relationships.role.data){var a=t[e.relationships.role.data.id];if(a)return a.attributes.name}return null},d=function(e){var t=e.location_name;return t||(e.relationships&&e.relationships.locations.data?e.relationships.locations.data.map((function(e){var t=a[e.id];return t?t.attributes.name&&""!==t.attributes.name?t.attributes.name:t.attributes.city:null})).join(", "):null)},f=function(e){return e.relationships&&e.relationships.regions.data?e.relationships.regions.data.map((function(e){var t=n[e.id];return t?t.attributes.name:null})).join(", "):null},b=function(e){var t=e.attributes["remote-status"],a=r.find((function(e){return e.value===t}));return a&&a.name?a.name:t},g=function(e,t,a){var n=document.createElement(e);return t&&(n.className=t),a&&(void 0!==n.textContent?n.textContent=a:n.innerText=a),n},v=function(e){var t=e.attributes["company-name"];return t?g("span","teamtailor-jobs__company",t):null},_=function(e){var t=m(e);return t?g("span","teamtailor-jobs__department",t):null},h=function(e){var t=p(e);return t?g("span","teamtailor-jobs__role",t):null},y=function(e){var t=f(e);return t?g("span","teamtailor-jobs__region",t):null},j=function(e){var t=d(e);return t?g("span","teamtailor-jobs__location",t):null},S=function(e,t){var a=b(e);return a&&t.remoteStatusSelect?g("span","teamtailor-jobs__remote_status",a):null},A=function(e,t){var a=g("span","teamtailor-jobs__job-info"),n=[v(e),_(e),h(e),y(e),j(e),S(e,t)].filter((function(e){return null!=e})),r=n.length-1;return n.forEach((function(e,t){a.appendChild(e),t<r&&a.appendChild(document.createTextNode(" - "))})),a},T=function(e,t){return!!e.links["careersite-job-internal-url"]&&(!!e.attributes.internal||"public"!==t.feed)},w=function(e,t){var a=e.title||e.attributes.title,n=g("a","teamtailor-jobs__job-title",a),r=T(e,t)?e.links["careersite-job-internal-url"]:e.links["careersite-job-url"],i=r.split("index.html")[2];return r+="?utm_campaign=jobs-widget&utm_source="+i+"&utm_content=jobs&utm_medium=web",n.setAttribute("href",r),t.popup&&n.setAttribute("target","_blank"),n},C=function(e,t){var a=g("div","teamtailor-jobs__job");return a.appendChild(w(e,t)),a.appendChild(A(e,t)),a},x=function(e,t,a){var n,r=e.querySelectorAll(".teamtailor-jobs__job-wrapper")[0];r.innerHTML="",a.apiKey?(n=t.data,c(t.included)):n=t.jobs;for(var i=0;i<n.length;++i)r.appendChild(C(n[i],a));a.pagination&&r.appendChild(L(e,t,a))},L=function(e,t,a){var n=g("div","teamtailor-jobs__pagination");if(t.links.prev){var r=k("prev",e,t,a);n.appendChild(r)}if(t.links.prev&&t.links.next&&n.appendChild(document.createTextNode(" \u2014 ")),t.links.next){var i=k("next",e,t,a);n.appendChild(i)}return n},k=function(e,t,a,n){var r=g("a","teamtailor-jobs__pagination__"+e,a.meta.texts[e]);return r.setAttribute("href",a.links[e]),r.addEventListener("click",(function(r){r.preventDefault();var i=l(a.links[e],n);s(i,(function(e){x(t,e,n)}))})),r},D=function(e,t){var a=g("option",null,e);a.value="";var n=g("select","teamtailor-jobs__select");return n.appendChild(a),t.appendChild(n),n},E=function(e,t,a,n,r){var l,u,c=function(e){return"locations"===t?e.attributes?e.attributes.name&&""!==e.attributes.name?e.attributes.name:e.attributes.city:e.name:"remote_statuses"===t?e:"career-sites"===t?{name:e.attributes.name,value:e.attributes["language-code"]}:e.attributes?e.attributes.name:e.name},m=function(e){var t=e.name||e,a=e.value||e,n=g("option",null,t);return n.value=encodeURIComponent(a),n},p=function(e,t,a){var n,r=[];for(n=0;n<t.length;++n)r.push(c(t[n]));for(r=r.filter((function(e,t,a){return a.indexOf(e)===t})).sort(),"remote_statuses"!==a&&r.sort(),n=0;n<r.length;++n)e.appendChild(m(r[n]))};"remote_statuses"===t?(l=i["all-remote-statuses"],u=e):r.apiKey?(l=e.meta.texts.all,u=e.data):(l=e.text,u=e.items);var d=D(l,n);d.addEventListener("change",(function(e){e.target.value&&e.target.value.length>0?r[t]='"'+e.target.value.replace(/&/g,"%26")+'"':r[t]="",s(o(r),(function(e){x(a,e,r)}))})),p(d,u,t)},J=function(e,t,a){var n;a.apiKey?(n=a.url||"https://api.teamtailor.com/v1/"+e+"?",n=l(n,a),"locations"===e?n+="&fields[locations]=name,city":"departments"===e?n+="&fields[departments]=name":"regions"===e?n+="&fields[regions]=name":"career-sites"===e&&(n+="&fields[career-site]=name"),a.companies&&(n+="&filter[company]="+a.companies)):n="https://tt.teamtailor.com/api/"+e+"?company_id="+a.company;var i=g("div","teamtailor-jobs__select-wrapper");t.querySelectorAll(".teamtailor-jobs__filters")[0].appendChild(i),"remote_statuses"===e?E(r,e,t,i,a):u(n,(function(n){(n.items&&n.items.length||n.data&&n.data.length)&&E(n,e,t,i,a)}),a)},O=function(){var e="",t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");e+=".teamtailor-jobs__job-title { display: block; }",e+=".teamtailor-jobs__job { margin-bottom: 1em; }",e+=".teamtailor-jobs__select-wrapper { float: left; margin: 0 1em 1em 0; }",e+=".teamtailor-jobs__job-wrapper { clear: left; }",a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t.appendChild(a)};return{init:function(e){e.company||e.apiKey?s(o(e),(function(t){var a=e.jobsWidget||document.getElementById("teamtailor-jobs-widget"),n=g("div","teamtailor-jobs__job-wrapper");a.appendChild(n),i=t.meta.texts;for(var o=0;o<r.length;++o){var l=r[o].value;i[l]&&(r[o].name=i[l])}if(x(a,t,e),(e.companySelect||e.departmentSelect||e.locationSelect||e.languageSelect||e.regionSelect)&&(!e.preselectedDepartment||!e.preselectedLocation)||e.remoteStatusSelect||e.roleSelect){var s=g("div","teamtailor-jobs__filters");a.insertBefore(s,n),e.companySelect&&J("companies",a,e),e.departmentSelect&&!e.preselectedDepartment&&J("departments",a,e),e.roleSelect&&J("roles",a,e),e.regionSelect&&J("regions",a,e),e.locationSelect&&!e.preselectedLocation&&J("locations",a,e),e.languageSelect&&!e.preselectedLanguage&&J("career-sites",a,e),e.remoteStatusSelect&&J("remote_statuses",a,e)}})):alert("missing api key")},run:function(){if(!window.TEAMTAILOR_JOB_SCRIPT_LOADED){window.TEAMTAILOR_JOB_SCRIPT_LOADED=!0,O();for(var e=document.querySelectorAll(".teamtailor-jobs-widget"),t=0;t<e.length;++t)Teamtailor.JobsSource.init({company:e[t].getAttribute("data-teamtailor-company"),apiKey:e[t].getAttribute("data-teamtailor-api-key"),limit:e[t].getAttribute("data-teamtailor-limit"),pagination:e[t].getAttribute("data-teamtailor-pagination"),preselectedDepartment:e[t].getAttribute("data-teamtailor-department"),preselectedLocation:e[t].getAttribute("data-teamtailor-location"),preselectedLanguage:e[t].getAttribute("data-teamtailor-language"),languageSelect:e[t].getAttribute("data-teamtailor-language-select"),popup:e[t].getAttribute("data-teamtailor-popup"),feed:e[t].getAttribute("data-teamtailor-feed")||"public",companySelect:e[t].getAttribute("data-teamtailor-group-company-select"),departmentSelect:e[t].getAttribute("data-teamtailor-department-select"),roleSelect:e[t].getAttribute("data-teamtailor-role-select"),locationSelect:e[t].getAttribute("data-teamtailor-location-select"),regionSelect:e[t].getAttribute("data-teamtailor-region-select"),remoteStatusSelect:e[t].getAttribute("data-teamtailor-remote-status-select"),jobsWidget:e[t]})}}}}(),"complete"===document.readyState||"interactive"===document.readyState||Teamtailor.JobsSource||Teamtailor.JobsSource.run?Teamtailor.JobsSource.run():document.addEventListener("DOMContentLoaded",Teamtailor.JobsSource.run);